# Next.js 15 + ShadCN UI + Orval Templates

This repository contains reusable templates for creating entity CRUD interfaces using Next.js 15, ShadCN UI components, and Orval-generated React Query hooks.

## Overview

These templates provide a standardized approach to implementing CRUD operations for entities defined in JHipster. The templates use Next.js 15 app router, ShadCN UI components for the user interface, and React Query hooks generated by Orval for data fetching and mutations.

The templates are designed to be flexible and customizable, allowing you to adapt them to your specific needs while maintaining a consistent architecture and user experience.

## Getting Started

### Prerequisites

- Next.js 15 project with ShadCN UI components installed
- Orval configured to generate React Query hooks from OpenAPI specification
- JHipster entity definitions

### Directory Structure

```
src/
├── templates/           # Reusable templates
│   ├── entity-context.tsx
│   ├── entity-detail-page.tsx
│   ├── entity-enums.ts
│   ├── entity-form.tsx
│   ├── entity-layout.tsx
│   ├── entity-metadata.ts
│   ├── entity-page.tsx
│   ├── entity-table.tsx
│   ├── form-fields.tsx
│   └── relationship-field.tsx
├── app/
│   └── (dashboard)/
│       └── [entity]/    # Entity-specific implementation
│           ├── page.tsx
│           ├── new/
│           │   └── page.tsx
│           ├── [id]/
│           │   ├── page.tsx
│           │   └── edit/
│           │       └── page.tsx
│           ├── [entity]-context.tsx
│           ├── [entity]-enums.ts
│           └── [entity]-metadata.ts
```

## How to Use

### 1. Generate Entity Metadata

Create a file named `[entity]-metadata.ts` to generate entity metadata from JHipster entity definition:

```typescript
import { generateEntityMetadata, generateZodSchema } from '@/templates/entity-metadata';

// Import JHipster entity definition
const entityDefinition = {
  // Your JHipster entity definition
};

// Generate metadata
export const entityMetadata = generateEntityMetadata(entityDefinition);

// Generate Zod schema
export const entitySchema = generateZodSchema(entityMetadata);

// Export everything
export default {
  metadata: entityMetadata,
  schema: entitySchema,
  entity: entityDefinition
};
```

### 2. Generate Entity Enums

Create a file named `[entity]-enums.ts` to generate TypeScript enums from JHipster entity definition:

```typescript
import { generateEnumsFile } from '@/templates/entity-enums';

// Import JHipster entity definition
import { entity } from './[entity]-metadata';

// Generate enums file
const enumsFile = generateEnumsFile(entity);

// Export enums
export { enumsFile };
```

### 3. Create Entity Context

Create a file named `[entity]-context.tsx` to provide state management for entity components:

```typescript
'use client';

import { createEntityContext } from '@/templates/entity-context';
import { EntityDTO } from '@/core/api/generated/schemas';

// Create a typed context for the entity
const { EntityProvider, useEntityContext } = createEntityContext<EntityDTO>();

// Re-export with entity-specific names
export const MyEntityProvider = EntityProvider;
export const useMyEntityContext = useEntityContext;

export default {
  MyEntityProvider,
  useMyEntityContext
};
```

### 4. Implement Entity Pages

Create the following pages to implement the CRUD interface:

- `page.tsx` - List view
- `new/page.tsx` - Create view
- `[id]/page.tsx` - Detail view
- `[id]/edit/page.tsx` - Edit view

See the examples in the repository for detailed implementation.

## Templates

### Entity Context (`entity-context.tsx`)

Provides a context for sharing entity state across components, including:
- Pagination state
- Sorting state
- Filter state
- Selection state
- Functions for refreshing data

### Entity Layout (`entity-layout.tsx`)

Provides a consistent layout for entity pages, including:
- Breadcrumbs
- Header with title and actions
- Container for the main content

### Entity Table (`entity-table.tsx`)

Displays a table of entities with features like:
- Sorting
- Filtering
- Selection
- Actions (view, edit, delete)
- Pagination

### Entity Form (`entity-form.tsx`)

Provides a form for creating and updating entities with:
- Input validation using Zod
- Support for all field types (string, number, boolean, date, enum)
- Support for entity relationships

### Entity Page (`entity-page.tsx`)

Container for the entity table with:
- Fetching data using React Query
- Handling URL parameters for sorting and pagination

### Entity Detail Page (`entity-detail-page.tsx`)

Displays detailed information about an entity with:
- Fetching data using React Query
- Actions for editing and deleting the entity

### Relationship Field (`relationship-field.tsx`)

Handles entity relationships with:
- Many-to-one, one-to-many, and many-to-many support
- Search functionality
- Selection interface

### Form Fields (`form-fields.tsx`)

Provides form components for different field types:
- Text field
- Number field
- Date field
- Select field
- Checkbox field

## License

This project is licensed under the MIT License - see the LICENSE file for details.
